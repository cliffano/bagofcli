<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Global - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#command">command</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#exec">exec</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#execAndCollect">execAndCollect</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#exit">exit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#exitCb">exitCb</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#files">files</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#lookupConfig">lookupConfig</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#lookupFile">lookupFile</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#spawn">spawn</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">Global</h1>
    

    




<section>

<header>
    
        <h2>
        
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            
<div class="section-method">

    

    <h4 class="name" id="command"><span class="type-signature"></span>command<span class="signature">(base:, actions:, opts:)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Parse command line arguments and execute actions based on the specified commands.
Uses commander.js to provide -V / --version to display version number,
and -h / --help to display help info.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bagofcli.js.html">bagofcli.js</a>, <a href="bagofcli.js.html#line29">line 29</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>base:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                base directory where the client module is located,
  used as a base directory to read command file and package.json file,
  ideally the value would be the client's __dirname
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>actions:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                action function for each command in format: { command: { action: function () {} }},
  the command name in actions object is then mapped to the command name specified in commandFile
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                optional
  - commandFile: relative path to command file from base directory, defaults to 'conf/commands.json'
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="exec"><span class="type-signature"></span>exec<span class="signature">(command:, fallthrough:, cb:)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Execute a one-liner command.

The output emitted on stderr and stdout of the child process will be written to process.stdout
and process.stderr of this process.

Fallthrough is handy in situation where there are multiple execs running in sequence/parallel,
and they all have to be executed regardless of success/error on either one of them.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bagofcli.js.html">bagofcli.js</a>, <a href="bagofcli.js.html#line215">line 215</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>command:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                command to execute
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fallthrough:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Boolean</code></span>


            
            </td>

            

            

            <td class="description last">
                allow error to be camouflaged as a non-error
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            

            

            <td class="description last">
                standard cb(err, result) callback
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="execAndCollect"><span class="type-signature"></span>execAndCollect<span class="signature">(command:, fallthrough:, cb:)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Execute a one-liner command and collect the output.

The output emitted on stderr and stdout of the child process will be
collected and passed on to the given callback.

Fallthrough is handy in situation where there are multiple execs running in sequence/parallel,
and they all have to be executed regardless of success/error on either one of them.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bagofcli.js.html">bagofcli.js</a>, <a href="bagofcli.js.html#line235">line 235</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>command:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                command to execute
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fallthrough:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Boolean</code></span>


            
            </td>

            

            

            <td class="description last">
                allow error to be camouflaged as a non-error
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            

            

            <td class="description last">
                (err, stdOutOuput, stdErrOuput, result) callback
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="exit"><span class="type-signature"></span>exit<span class="signature">(err:)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Handle process exit based on the existence of error.
This is handy for command-line tools to use as the final callback.
Exit status code 1 indicates an error, exit status code 0 indicates a success.
Error message will be logged to the console. Result object is only used for convenient debugging.
Exit is also called with a second method in the signature called 'result', but it's not declared
here due to not being used when there is no error and this function simply exits with code 0
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bagofcli.js.html">bagofcli.js</a>, <a href="bagofcli.js.html#line298">line 298</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>err:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Error</code></span>


            
            </td>

            

            

            <td class="description last">
                error object existence indicates the occurence of an error
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="exitCb"><span class="type-signature"></span>exitCb<span class="signature">(errorCb:, successCb:)</span><span class="type-signature"></span></h4>

    



<div class="description">
    A higher order function that returns a process exit callback,
with error and success callbacks to handle error and result accordingly.
Exit status code 1 indicates an error, exit status code 0 indicates a success.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bagofcli.js.html">bagofcli.js</a>, <a href="bagofcli.js.html#line315">line 315</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>errorCb:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            

            

            <td class="description last">
                error callback accepts error argument, defaults to logging to console error
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>successCb:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            

            

            <td class="description last">
                success callback accepts result argument, defaults to logging to console log
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="files"><span class="type-signature"></span>files<span class="signature">(items:, opts:)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    



<div class="description">
    Get an array of files contained in specified items.
When a directory is specified, all files contained within that directory and its sub-directories will be included.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bagofcli.js.html">bagofcli.js</a>, <a href="bagofcli.js.html#line349">line 349</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>items:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Array</code></span>


            
            </td>

            

            

            <td class="description last">
                an array of files and/or directories
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                optional
  - match: regular expression to match against the file name
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Array</code></span>


    </dd>
</dl>


<div class="param-desc">
    all files
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="lookupConfig"><span class="type-signature"></span>lookupConfig<span class="signature">(keys:, opts:, cb:)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Lookup config values for the specified keys in the following order:
- environment variable
- if optional file is specified, then check for the value inside the file
  file type depends on extension file
- if optional enablePrompt is set to true, then prompt the user for config value
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bagofcli.js.html">bagofcli.js</a>, <a href="bagofcli.js.html#line392">line 392</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>keys:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Array</code></span>


            
            </td>

            

            

            <td class="description last">
                an array of configuration keys to be looked up
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                optional
- file: file name to look up to for the configuration value,
        if not supplied then no file lookup will be done
- enablePrompt: if true then prompt the user for configuration value
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            

            

            <td class="description last">
                standard cb(err, result) callback
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="lookupFile"><span class="type-signature"></span>lookupFile<span class="signature">(file:, opts:)</span><span class="type-signature"> &rarr; {String}</span></h4>

    



<div class="description">
    Synchronously read file based on these rules:
- if path is absolute, then check file at absolute path first
- if path is relative, then check file at current working directory
- if none of the above exists, check file at user home directory
- if none exists, throw an error
This allows simple file lookup which allows various locations.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bagofcli.js.html">bagofcli.js</a>, <a href="bagofcli.js.html#line483">line 483</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>file:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                the file name to read
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                optional
- platform: needed for unit tests to override platform since node v0.11.x
            https://github.com/trevnorris/node/commit/c80f8fa8f108d8db598b260ddf26bafd2ec8a1f8
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>String</code></span>


    </dd>
</dl>


<div class="param-desc">
    content of the file
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="spawn"><span class="type-signature"></span>spawn<span class="signature">(command:, args:, cb:)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Execute a command with an array of arguments.
E.g. command: make, arguments: -f somemakefile target1 target2 target3
     will be executed as: make -f somemakefile target1 target2 target3
NOTE: process.stdout.write and process.stderr.write are used because console.log adds a newline
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bagofcli.js.html">bagofcli.js</a>, <a href="bagofcli.js.html#line519">line 519</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>command:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                command to execute
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>args:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Array</code></span>


            
            </td>

            

            

            <td class="description last">
                command arguments
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb:</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>function</code></span>


            
            </td>

            

            

            <td class="description last">
                standard cb(err, result) callback
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.10</a> on Sat Jan 29 2022 05:41:14 GMT+0000 (Coordinated Universal Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>